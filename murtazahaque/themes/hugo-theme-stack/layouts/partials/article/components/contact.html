<section class="article-content">
    <!-- Refer to https://discourse.gohugo.io/t/responsive-tables-in-markdown/10639/5 -->
    {{ $wrappedTable := printf "<div class=\"table-wrapper\">${1}</div>" }}
    {{ .Content | replaceRE "(<table>(?:.|\n)+?</table>)" $wrappedTable | safeHTML }}
</section>

<div class="contact-body">
    
    <link rel="stylesheet" href="https://cdn.lineicons.com/4.0/lineicons.css" />
    <form action="#" id="form" class="form">
        <h1 class="form-title">Contact Me!</h1>
        <p class="form-description">Need to talk? Enter in your stuff below, and I'll get back to you in some time!</p>



        <div> 
            <p class="form-subtitle">Name:</p> 
            <input type="text" name="name" placeholder="Your Name" required>
        </div>
        
        <div>
            <p class="form-subtitle">Email:</p> 
            <input type="text" name="email" placeholder="Your Email" required>
        </div>
        
        <!--Fun Questions--> 
        <div>
            <p class="form-subtitle" id="number-label"></p>
            <script>
                label = document.getElementById("number-label");
                num1 = Math.floor(Math.random() * 1000),num2 = Math.floor(Math.random()*1000);
                label.innerHTML = "Bot Check: What's " + num1 + " + " + num2 + "?";

                function gradeMath() {
                    alert("Testing Testing");
                    value = document.getElementByName("numbers").value;
                    return false;
                    if (value != (1000)) {
                        alert("Come on now, it's just addition. :)");
                        return false;
                    }
                }
            </script>
            <input type="text" name="numbers" placeholder="Math time!">
        </div>
        
        <div>
            <p class="form-subtitle">Have any favorite music? Drop the name and artist and I'll give it a listen:</p> 
            <input type="text" name="music" placeholder="(Optional) Your Favorite Music">
        </div>
        
        <!--Text Area-->
        <div>
            <p class="form-subtitle">Your Message:</p>
            <textarea resize="none" name="message" rows="4" placeholder="Have something to say? Shoot!" required></textarea>
        </div>

        <!--Button-->
        <button type='submit' onclick="gradeMath()">Send</button>

        <!--Loader + Confirmation Message-->
        <div class="loader">
            <i class="lni lni-spinner-solid"></i>
        </div>
        <div class="sendoff-msg"></div>
    </form>

    <!--EmailJS CDN-->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <!--Contact Script-->
    <script>
        (function() {
            // https://dashboard.emailjs.com/admin/account
            emailjs.init({publicKey: "GSwdno2FHiciyvCb4",});
        })();


        const msg = document.querySelector(".sendoff-msg");

        window.onload = function() {
            document.getElementById("form").addEventListener('submit', function(event) {
        
                event.preventDefault();
        
                document.querySelector(".loader").classList.add("show");

                // these IDs from the previous steps
                emailjs.sendForm("service_my_website", "template_website_email", this).then(
                    () => {
                        document.getElementById("form").reset();
                        document.querySelector(".loader").classList.remove("show");
                        msg.innerHTML = "";
                        msg.innerHTML += "<span class='msg-sent'>Email Sent! Thanks for contacting!</span>";
                        msg.classList.add("show");
                        setTimeout( () => msg.classList.remove("show"), 2000);
                    }, 
                    (error) => {
                        document.querySelector(".loader").classList.toggle("show");
                        msg.innerHTML = "";
                        msg.innerHTML += "<span class='msg-not-sent'>Uh Oh! Email Not Sent, Please Try Again.</span>";
                        msg.classList.add("show");
                    }
                );
            });
        }
    </script>

</div>